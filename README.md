# ff14_auto_spring
Spring 重构 C语言版的 ff14_auto

具有C语言版的所有功能，进一步支持 JSON 和 YAML 格式的曲谱文件。

和C语言版的不同之处是，它会判断连在一起的音符是否合法。如果不合法还会提醒你出错音符的具体位置，非常人性化。

<b style="color:crimson">目前还有个问题，jvm模拟的键盘输入对ff14不管用，正在找解决方法。</b>

### 7.21
试了用 native 调C++编译的dll，用了 `keybd_event` 函数，游戏还是没反应。不过检测窗口的函数还是可以用的。

说不定 JVM 模拟的按键都被游戏 ban 了...

C++编译动态链接库用的 IDE 是 DEV C++，写起来挺快的。
### JSON 示例

```json
[
  {
    "clef": "C",
    "bpm": 120,
    "notes": [
      "1",
      "1",
      "5",
      "5",
      "6",
      "6",
      "5"
    ]
  },
  {
    "clef": "D",
    "bpm": 120,
    "notes": [
      "4",
      "4",
      "3",
      "3",
      "2",
      "2",
      "1"
    ]
  }
]
```

### YAML 示例

```yaml
-
  clef: "C"
  bpm: 120
  notes: 
    - "1"
    - "2"
    - "3"
    - "4"
-
  clef: "D"
  bpm: 120
  notes:
    - "1"
    - "2"
    - "3"

```
手写的话，相比原格式和JSON，我更推荐写YAML。VS Code 装一个yaml插件就能自动缩进，自动补全 ‘-’，写起来非常舒服。
